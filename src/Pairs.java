import java.util.Arrays;
import java.util.Collections;
import java.util.List;

public class Pairs {
    static int pairs(int k, List<Integer> arr) {
        Collections.sort(arr);
        int result = 0;
        int l = 0;
        int r = 0;
        while (r < arr.size()) {
            if (arr.get(r) - arr.get(l) == k) {
                result++;
                l++;
                r++;
            } else if (arr.get(r) - arr.get(l) > k)
                l++;
            else // arr[r] - arr[l] < sum
                r++;
        }

        return result;
    }

    

    public static void main(String[] args) {
        List<Integer> array = Arrays.asList(1, 2, 3, 4);
        System.out.println(pairs(1, array));

        List<Integer> array1 = Arrays.asList(4162,
                6994,
                13560,
                14247,
                14934,
                19622,
                22168,
                22324,
                23169,
                41576,
                42711,
                77220,
                79591,
                80278,
                80965,
                81652,
                84087,
                85417,
                109146,
                112336,
                128885,
                129572,
                129922,
                130259,
                130946,
                131633,
                143512,
                144675,
                146049,
                146736,
                146877,
                151756,
                156561,
                177826,
                211634,
                212321,
                213008,
                216260,
                226476,
                251634,
                252562,
                252687,
                257969,
                259959,
                260454,
                263786,
                272951,
                275998,
                290426,
                302213,
                302900,
                303132,
                304274,
                305831,
                306518,
                307205,
                307892,
                311817,
                318376,
                319682,
                319856,
                323710,
                324397,
                340669,
                346559,
                346722,
                347246,
                347933,
                349307,
                349744,
                350431,
                351118,
                356253,
                367031,
                371357,
                376767,
                381356,
                381455,
                381793,
                382142,
                382829,
                383516,
                384203,
                385676,
                386363,
                388113,
                391266,
                396080,
                399471,
                400158,
                401532,
                402219,
                420069,
                421135,
                431774,
                432461,
                433148,
                433835,
                434733,
                461940,
                462627,
                463314,
                464001,
                466803,
                483429,
                485376,
                486063,
                486644,
                486750,
                487437,
                516975,
                519779,
                525153,
                528752,
                530957,
                535615,
                548896,
                556131,
                558429,
                579132,
                579819,
                580506,
                581193,
                591034,
                602785,
                615467,
                620846,
                625990,
                626364,
                628368,
                629055,
                629386,
                630429,
                641029,
                641716,
                642403,
                643090,
                643777,
                650909,
                652888,
                658236,
                670617,
                672321,
                673008,
                673695,
                674382,
                675069,
                681505,
                682192,
                682879,
                683566,
                686432,
                689084,
                689771,
                690458,
                691832,
                692670,
                692990,
                693677,
                694364,
                694812,
                695051,
                700593,
                704230,
                704917,
                705604,
                707516,
                709010,
                716383,
                717070,
                717757,
                718444,
                719007,
                719131,
                726166,
                726853,
                732314,
                733001,
                735240,
                738565,
                753530,
                765711,
                789342,
                796189,
                806955,
                823133,
                829732,
                845482,
                856525,
                861309,
                871170,
                871857,
                872544,
                873231,
                874036,
                878107,
                878716,
                878794,
                879403,
                879481,
                880777,
                881464,
                897255,
                897942,
                899316,
                900003,
                911598,
                921983,
                938898,
                943532,
                955638,
                956325,
                957012,
                957699,
                958157,
                966184,
                966921,
                967551,
                967608,
                967903,
                968295,
                968982,
                972027,
                989387,
                993408,
                996996);
        System.out.println(pairs(687, array1));

    }
}
